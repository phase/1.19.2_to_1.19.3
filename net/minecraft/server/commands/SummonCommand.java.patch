--- net/minecraft/server/commands/SummonCommand.java
+++ net/minecraft/server/commands/SummonCommand.java
@@ -12,32 +12,32 @@
     public net.minecraft.server.commands.SummonCommand() {
     }
 
-    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> dispatcher) {
-        dispatcher.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"summon").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"entity", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntitySummonArgument.id()).suggests(net.minecraft.commands.synchronization.SuggestionProviders.SUMMONABLE_ENTITIES).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.resources.ResourceLocation)net.minecraft.commands.arguments.EntitySummonArgument.getSummonableEntity((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getPosition(), (net.minecraft.nbt.CompoundTag)new net.minecraft.nbt.CompoundTag(), (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"pos", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3()).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.resources.ResourceLocation)net.minecraft.commands.arguments.EntitySummonArgument.getSummonableEntity((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.nbt.CompoundTag)new net.minecraft.nbt.CompoundTag(), (boolean)true))).then(net.minecraft.commands.Commands.argument((java.lang.String)"nbt", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.CompoundTagArgument.compoundTag()).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.resources.ResourceLocation)net.minecraft.commands.arguments.EntitySummonArgument.getSummonableEntity((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.nbt.CompoundTag)net.minecraft.commands.arguments.CompoundTagArgument.getCompoundTag((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"nbt"), (boolean)false))))));
+    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> $$02, net.minecraft.commands.CommandBuildContext $$1) {
+        $$02.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"summon").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"entity", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.ResourceArgument.resource((net.minecraft.commands.CommandBuildContext)$$1, (net.minecraft.resources.ResourceKey)net.minecraft.core.Registry.ENTITY_TYPE_REGISTRY)).suggests(net.minecraft.commands.synchronization.SuggestionProviders.SUMMONABLE_ENTITIES).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.Holder$Reference)net.minecraft.commands.arguments.ResourceArgument.getSummonableEntityType((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getPosition(), (net.minecraft.nbt.CompoundTag)new net.minecraft.nbt.CompoundTag(), (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"pos", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3()).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.Holder$Reference)net.minecraft.commands.arguments.ResourceArgument.getSummonableEntityType((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.nbt.CompoundTag)new net.minecraft.nbt.CompoundTag(), (boolean)true))).then(net.minecraft.commands.Commands.argument((java.lang.String)"nbt", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.CompoundTagArgument.compoundTag()).executes($$0 -> net.minecraft.server.commands.SummonCommand.spawnEntity((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.Holder$Reference)net.minecraft.commands.arguments.ResourceArgument.getSummonableEntityType((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"entity"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.nbt.CompoundTag)net.minecraft.commands.arguments.CompoundTagArgument.getCompoundTag((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"nbt"), (boolean)false))))));
     }
 
-    public static int spawnEntity(net.minecraft.commands.CommandSourceStack source, net.minecraft.resources.ResourceLocation type, net.minecraft.world.phys.Vec3 pos, net.minecraft.nbt.CompoundTag nbt, boolean randomizeProperties) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        net.minecraft.core.BlockPos blockPos = new net.minecraft.core.BlockPos(pos);
-        if (!net.minecraft.world.level.Level.isInSpawnableBounds((net.minecraft.core.BlockPos)blockPos)) {
+    public static int spawnEntity(net.minecraft.commands.CommandSourceStack $$0, net.minecraft.core.Holder$Reference<net.minecraft.world.entity.EntityType<?>> $$12, net.minecraft.world.phys.Vec3 $$2, net.minecraft.nbt.CompoundTag $$3, boolean $$4) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        net.minecraft.core.BlockPos $$5 = new net.minecraft.core.BlockPos($$2);
+        if (!net.minecraft.world.level.Level.isInSpawnableBounds((net.minecraft.core.BlockPos)$$5)) {
             throw INVALID_POSITION.create();
         }
-        net.minecraft.nbt.CompoundTag compoundTag = nbt.copy();
-        compoundTag.putString("id", type.toString());
-        net.minecraft.server.level.ServerLevel serverLevel = source.getLevel();
-        net.minecraft.world.entity.Entity entity = net.minecraft.world.entity.EntityType.loadEntityRecursive((net.minecraft.nbt.CompoundTag)compoundTag, (net.minecraft.world.level.Level)serverLevel, $$1 -> {
+        net.minecraft.nbt.CompoundTag $$6 = $$3.copy();
+        $$6.putString("id", $$12.key().location().toString());
+        net.minecraft.server.level.ServerLevel $$7 = $$0.getLevel();
+        net.minecraft.world.entity.Entity $$8 = net.minecraft.world.entity.EntityType.loadEntityRecursive((net.minecraft.nbt.CompoundTag)$$6, (net.minecraft.world.level.Level)$$7, $$1 -> {
             $$1.moveTo($$0.x, $$0.y, $$0.z, $$1.getYRot(), $$1.getXRot());
             return $$1;
         });
-        if (entity == null) {
+        if ($$8 == null) {
             throw ERROR_FAILED.create();
         }
-        if (randomizeProperties && entity instanceof net.minecraft.world.entity.Mob) {
-            ((net.minecraft.world.entity.Mob)entity).finalizeSpawn((net.minecraft.world.level.ServerLevelAccessor)source.getLevel(), source.getLevel().getCurrentDifficultyAt(entity.blockPosition()), net.minecraft.world.entity.MobSpawnType.COMMAND, null, null);
+        if ($$4 && $$8 instanceof net.minecraft.world.entity.Mob) {
+            ((net.minecraft.world.entity.Mob)$$8).finalizeSpawn((net.minecraft.world.level.ServerLevelAccessor)$$0.getLevel(), $$0.getLevel().getCurrentDifficultyAt($$8.blockPosition()), net.minecraft.world.entity.MobSpawnType.COMMAND, null, null);
         }
-        if (!serverLevel.tryAddFreshEntityWithPassengers(entity)) {
+        if (!$$7.tryAddFreshEntityWithPassengers($$8)) {
             throw ERROR_DUPLICATE_UUID.create();
         }
-        source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.summon.success", (java.lang.Object[])new java.lang.Object[]{entity.getDisplayName()}), true);
+        $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.summon.success", (java.lang.Object[])new java.lang.Object[]{$$8.getDisplayName()}), true);
         return 1;
     }
 