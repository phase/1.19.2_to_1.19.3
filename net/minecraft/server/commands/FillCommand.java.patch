--- net/minecraft/server/commands/FillCommand.java
+++ net/minecraft/server/commands/FillCommand.java
@@ -17,32 +17,32 @@
         $$03.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"fill").requires($$0 -> $$0.hasPermission(2))).then(net.minecraft.commands.Commands.argument((java.lang.String)"from", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.BlockPosArgument.blockPos()).then(net.minecraft.commands.Commands.argument((java.lang.String)"to", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.BlockPosArgument.blockPos()).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"block", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.blocks.BlockStateArgument.block((net.minecraft.commands.CommandBuildContext)$$1)).executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.REPLACE, null))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"replace").executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.REPLACE, null))).then(net.minecraft.commands.Commands.argument((java.lang.String)"filter", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.blocks.BlockPredicateArgument.blockPredicate((net.minecraft.commands.CommandBuildContext)$$1)).executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.REPLACE, (java.util.function.Predicate)net.minecraft.commands.arguments.blocks.BlockPredicateArgument.getBlockPredicate((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"filter")))))).then(net.minecraft.commands.Commands.literal((java.lang.String)"keep").executes($$02 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$02.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$02, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$02, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$02, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.REPLACE, $$0 -> $$0.getLevel().isEmptyBlock($$0.getPos()))))).then(net.minecraft.commands.Commands.literal((java.lang.String)"outline").executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.OUTLINE, null)))).then(net.minecraft.commands.Commands.literal((java.lang.String)"hollow").executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.HOLLOW, null)))).then(net.minecraft.commands.Commands.literal((java.lang.String)"destroy").executes($$0 -> net.minecraft.server.commands.FillCommand.fillBlocks((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.world.level.levelgen.structure.BoundingBox)net.minecraft.world.level.levelgen.structure.BoundingBox.fromCorners((net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"from"), (net.minecraft.core.Vec3i)net.minecraft.commands.arguments.coordinates.BlockPosArgument.getLoadedBlockPos((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"to")), (net.minecraft.commands.arguments.blocks.BlockInput)net.minecraft.commands.arguments.blocks.BlockStateArgument.getBlock((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"block"), (net.minecraft.server.commands.FillCommand$Mode)net.minecraft.server.commands.FillCommand$Mode.DESTROY, null)))))));
     }
 
-    public static int fillBlocks(net.minecraft.commands.CommandSourceStack source, net.minecraft.world.level.levelgen.structure.BoundingBox area, net.minecraft.commands.arguments.blocks.BlockInput newBlock, net.minecraft.server.commands.FillCommand$Mode mode, @javax.annotation.Nullable java.util.function.Predicate<net.minecraft.world.level.block.state.pattern.BlockInWorld> replacingPredicate) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        net.minecraft.commands.arguments.blocks.BlockInput blockInput;
-        int n = area.getXSpan() * area.getYSpan() * area.getZSpan();
-        if (n > 32768) {
-            throw ERROR_AREA_TOO_LARGE.create((java.lang.Object)32768, (java.lang.Object)n);
+    public static int fillBlocks(net.minecraft.commands.CommandSourceStack $$0, net.minecraft.world.level.levelgen.structure.BoundingBox $$1, net.minecraft.commands.arguments.blocks.BlockInput $$2, net.minecraft.server.commands.FillCommand$Mode $$3, @javax.annotation.Nullable java.util.function.Predicate<net.minecraft.world.level.block.state.pattern.BlockInWorld> $$4) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        int $$5 = $$1.getXSpan() * $$1.getYSpan() * $$1.getZSpan();
+        if ($$5 > 32768) {
+            throw ERROR_AREA_TOO_LARGE.create((java.lang.Object)32768, (java.lang.Object)$$5);
         }
-        java.util.ArrayList arrayList = com.google.common.collect.Lists.newArrayList();
-        net.minecraft.server.level.ServerLevel serverLevel = source.getLevel();
-        int n2 = 0;
-        for (net.minecraft.core.BlockPos blockPos : net.minecraft.core.BlockPos.betweenClosed((int)area.minX(), (int)area.minY(), (int)area.minZ(), (int)area.maxX(), (int)area.maxY(), (int)area.maxZ())) {
-            if (replacingPredicate != null && !replacingPredicate.test((java.lang.Object)new net.minecraft.world.level.block.state.pattern.BlockInWorld((net.minecraft.world.level.LevelReader)serverLevel, blockPos, true)) || (blockInput = mode.filter.filter(area, blockPos, newBlock, serverLevel)) == null) continue;
-            net.minecraft.world.level.block.entity.BlockEntity blockEntity = serverLevel.getBlockEntity(blockPos);
-            net.minecraft.world.Clearable.tryClear((java.lang.Object)blockEntity);
-            if (!blockInput.place(serverLevel, blockPos, 2)) continue;
-            arrayList.add((java.lang.Object)blockPos.immutable());
-            ++n2;
+        java.util.ArrayList $$6 = com.google.common.collect.Lists.newArrayList();
+        net.minecraft.server.level.ServerLevel $$7 = $$0.getLevel();
+        int $$8 = 0;
+        for (net.minecraft.core.BlockPos $$9 : net.minecraft.core.BlockPos.betweenClosed((int)$$1.minX(), (int)$$1.minY(), (int)$$1.minZ(), (int)$$1.maxX(), (int)$$1.maxY(), (int)$$1.maxZ())) {
+            net.minecraft.commands.arguments.blocks.BlockInput $$10;
+            if ($$4 != null && !$$4.test((java.lang.Object)new net.minecraft.world.level.block.state.pattern.BlockInWorld((net.minecraft.world.level.LevelReader)$$7, $$9, true)) || ($$10 = $$3.filter.filter($$1, $$9, $$2, $$7)) == null) continue;
+            net.minecraft.world.level.block.entity.BlockEntity $$11 = $$7.getBlockEntity($$9);
+            net.minecraft.world.Clearable.tryClear((java.lang.Object)$$11);
+            if (!$$10.place($$7, $$9, 2)) continue;
+            $$6.add((java.lang.Object)$$9.immutable());
+            ++$$8;
         }
-        for (net.minecraft.core.BlockPos blockPos : arrayList) {
-            blockInput = serverLevel.getBlockState(blockPos).getBlock();
-            serverLevel.blockUpdated(blockPos, (net.minecraft.world.level.block.Block)blockInput);
+        for (net.minecraft.core.BlockPos $$12 : $$6) {
+            net.minecraft.world.level.block.Block $$13 = $$7.getBlockState($$12).getBlock();
+            $$7.blockUpdated($$12, $$13);
         }
-        if (n2 == 0) {
+        if ($$8 == 0) {
             throw ERROR_FAILED.create();
         }
-        source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.fill.success", (java.lang.Object[])new java.lang.Object[]{n2}), true);
-        return n2;
+        $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.fill.success", (java.lang.Object[])new java.lang.Object[]{$$8}), true);
+        return $$8;
     }
 
     public static /* synthetic */ com.mojang.brigadier.Message lambda$static$0(java.lang.Object $$0, java.lang.Object $$1) {