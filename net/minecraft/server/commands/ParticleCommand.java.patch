--- net/minecraft/server/commands/ParticleCommand.java
+++ net/minecraft/server/commands/ParticleCommand.java
@@ -10,21 +10,21 @@
     public net.minecraft.server.commands.ParticleCommand() {
     }
 
-    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> dispatcher) {
-        dispatcher.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"particle").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"name", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.ParticleArgument.particle()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getPosition(), (net.minecraft.world.phys.Vec3)net.minecraft.world.phys.Vec3.ZERO, (float)0.0f, (int)0, (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"pos", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.world.phys.Vec3.ZERO, (float)0.0f, (int)0, (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"delta", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3((boolean)false)).then(net.minecraft.commands.Commands.argument((java.lang.String)"speed", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.FloatArgumentType.floatArg((float)0.0f)).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"count", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)0)).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"force").executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)true, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"viewers", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.players()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)true, (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getPlayers((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"viewers")))))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"normal").executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"viewers", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.players()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getPlayers((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"viewers")))))))))));
+    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> $$02, net.minecraft.commands.CommandBuildContext $$1) {
+        $$02.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"particle").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"name", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.ParticleArgument.particle((net.minecraft.commands.CommandBuildContext)$$1)).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getPosition(), (net.minecraft.world.phys.Vec3)net.minecraft.world.phys.Vec3.ZERO, (float)0.0f, (int)0, (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"pos", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.world.phys.Vec3.ZERO, (float)0.0f, (int)0, (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"delta", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.coordinates.Vec3Argument.vec3((boolean)false)).then(net.minecraft.commands.Commands.argument((java.lang.String)"speed", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.FloatArgumentType.floatArg((float)0.0f)).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"count", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)0)).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"force").executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)true, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"viewers", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.players()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)true, (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getPlayers((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"viewers")))))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"normal").executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getServer().getPlayerList().getPlayers()))).then(net.minecraft.commands.Commands.argument((java.lang.String)"viewers", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.players()).executes($$0 -> net.minecraft.server.commands.ParticleCommand.sendParticles((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (net.minecraft.core.particles.ParticleOptions)net.minecraft.commands.arguments.ParticleArgument.getParticle((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"name"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"pos"), (net.minecraft.world.phys.Vec3)net.minecraft.commands.arguments.coordinates.Vec3Argument.getVec3((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"delta"), (float)com.mojang.brigadier.arguments.FloatArgumentType.getFloat((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"speed"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"count"), (boolean)false, (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getPlayers((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"viewers")))))))))));
     }
 
-    public static int sendParticles(net.minecraft.commands.CommandSourceStack source, net.minecraft.core.particles.ParticleOptions particleData, net.minecraft.world.phys.Vec3 pos, net.minecraft.world.phys.Vec3 delta, float speed, int count, boolean force, java.util.Collection<net.minecraft.server.level.ServerPlayer> viewers) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        int n = 0;
-        for (net.minecraft.server.level.ServerPlayer serverPlayer : viewers) {
-            if (!source.getLevel().sendParticles(serverPlayer, particleData, force, pos.x, pos.y, pos.z, count, delta.x, delta.y, delta.z, (double)speed)) continue;
-            ++n;
+    public static int sendParticles(net.minecraft.commands.CommandSourceStack $$0, net.minecraft.core.particles.ParticleOptions $$1, net.minecraft.world.phys.Vec3 $$2, net.minecraft.world.phys.Vec3 $$3, float $$4, int $$5, boolean $$6, java.util.Collection<net.minecraft.server.level.ServerPlayer> $$7) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        int $$8 = 0;
+        for (net.minecraft.server.level.ServerPlayer $$9 : $$7) {
+            if (!$$0.getLevel().sendParticles($$9, $$1, $$6, $$2.x, $$2.y, $$2.z, $$5, $$3.x, $$3.y, $$3.z, (double)$$4)) continue;
+            ++$$8;
         }
-        if (n == 0) {
+        if ($$8 == 0) {
             throw ERROR_FAILED.create();
         }
-        source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.particle.success", (java.lang.Object[])new java.lang.Object[]{net.minecraft.core.Registry.PARTICLE_TYPE.getKey((java.lang.Object)particleData.getType()).toString()}), true);
-        return n;
+        $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.particle.success", (java.lang.Object[])new java.lang.Object[]{net.minecraft.core.Registry.PARTICLE_TYPE.getKey((java.lang.Object)$$1.getType()).toString()}), true);
+        return $$8;
     }
 
     static {