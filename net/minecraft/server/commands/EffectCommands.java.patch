--- net/minecraft/server/commands/EffectCommands.java
+++ net/minecraft/server/commands/EffectCommands.java
@@ -12,61 +12,74 @@
     public net.minecraft.server.commands.EffectCommands() {
     }
 
-    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> dispatcher) {
-        dispatcher.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"effect").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"clear").executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffects((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)com.google.common.collect.ImmutableList.of((java.lang.Object)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getEntityOrException())))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"targets", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.entities()).executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffects((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets")))).then(net.minecraft.commands.Commands.argument((java.lang.String)"effect", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.MobEffectArgument.effect()).executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.world.effect.MobEffect)net.minecraft.commands.arguments.MobEffectArgument.getEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"))))))).then(net.minecraft.commands.Commands.literal((java.lang.String)"give").then(net.minecraft.commands.Commands.argument((java.lang.String)"targets", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.entities()).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"effect", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.MobEffectArgument.effect()).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.world.effect.MobEffect)net.minecraft.commands.arguments.MobEffectArgument.getEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), null, (int)0, (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"seconds", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)1, (int)1000000)).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.world.effect.MobEffect)net.minecraft.commands.arguments.MobEffectArgument.getEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)0, (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"amplifier", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)0, (int)255)).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.world.effect.MobEffect)net.minecraft.commands.arguments.MobEffectArgument.getEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"amplifier"), (boolean)true))).then(net.minecraft.commands.Commands.argument((java.lang.String)"hideParticles", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.BoolArgumentType.bool()).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.world.effect.MobEffect)net.minecraft.commands.arguments.MobEffectArgument.getEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"amplifier"), (!com.mojang.brigadier.arguments.BoolArgumentType.getBool((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"hideParticles") ? 1 : 0) != 0)))))))));
+    public static void register(com.mojang.brigadier.CommandDispatcher<net.minecraft.commands.CommandSourceStack> $$02, net.minecraft.commands.CommandBuildContext $$1) {
+        $$02.register((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"effect").requires($$0 -> $$0.hasPermission(2))).then(((com.mojang.brigadier.builder.LiteralArgumentBuilder)net.minecraft.commands.Commands.literal((java.lang.String)"clear").executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffects((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)com.google.common.collect.ImmutableList.of((java.lang.Object)((net.minecraft.commands.CommandSourceStack)$$0.getSource()).getEntityOrException())))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"targets", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.entities()).executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffects((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets")))).then(net.minecraft.commands.Commands.argument((java.lang.String)"effect", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.ResourceArgument.resource((net.minecraft.commands.CommandBuildContext)$$1, (net.minecraft.resources.ResourceKey)net.minecraft.core.Registry.MOB_EFFECT_REGISTRY)).executes($$0 -> net.minecraft.server.commands.EffectCommands.clearEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.core.Holder)net.minecraft.commands.arguments.ResourceArgument.getMobEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"))))))).then(net.minecraft.commands.Commands.literal((java.lang.String)"give").then(net.minecraft.commands.Commands.argument((java.lang.String)"targets", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.EntityArgument.entities()).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"effect", (com.mojang.brigadier.arguments.ArgumentType)net.minecraft.commands.arguments.ResourceArgument.resource((net.minecraft.commands.CommandBuildContext)$$1, (net.minecraft.resources.ResourceKey)net.minecraft.core.Registry.MOB_EFFECT_REGISTRY)).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.core.Holder)net.minecraft.commands.arguments.ResourceArgument.getMobEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), null, (int)0, (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"seconds", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)1, (int)1000000)).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.core.Holder)net.minecraft.commands.arguments.ResourceArgument.getMobEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)0, (boolean)true))).then(((com.mojang.brigadier.builder.RequiredArgumentBuilder)net.minecraft.commands.Commands.argument((java.lang.String)"amplifier", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.IntegerArgumentType.integer((int)0, (int)255)).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.core.Holder)net.minecraft.commands.arguments.ResourceArgument.getMobEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"amplifier"), (boolean)true))).then(net.minecraft.commands.Commands.argument((java.lang.String)"hideParticles", (com.mojang.brigadier.arguments.ArgumentType)com.mojang.brigadier.arguments.BoolArgumentType.bool()).executes($$0 -> net.minecraft.server.commands.EffectCommands.giveEffect((net.minecraft.commands.CommandSourceStack)((net.minecraft.commands.CommandSourceStack)$$0.getSource()), (java.util.Collection)net.minecraft.commands.arguments.EntityArgument.getEntities((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"targets"), (net.minecraft.core.Holder)net.minecraft.commands.arguments.ResourceArgument.getMobEffect((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"effect"), (java.lang.Integer)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"seconds"), (int)com.mojang.brigadier.arguments.IntegerArgumentType.getInteger((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"amplifier"), (!com.mojang.brigadier.arguments.BoolArgumentType.getBool((com.mojang.brigadier.context.CommandContext)$$0, (java.lang.String)"hideParticles") ? 1 : 0) != 0)))))))));
     }
 
-    public static int giveEffect(net.minecraft.commands.CommandSourceStack source, java.util.Collection<? extends net.minecraft.world.entity.Entity> targets, net.minecraft.world.effect.MobEffect effect, @javax.annotation.Nullable java.lang.Integer seconds, int amplifier, boolean showParticles) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        int n = 0;
-        int n2 = seconds != null ? (effect.isInstantenous() ? seconds : seconds * 20) : (effect.isInstantenous() ? 1 : 600);
-        for (net.minecraft.world.entity.Entity entity : targets) {
-            net.minecraft.world.effect.MobEffectInstance mobEffectInstance;
-            if (!(entity instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)entity).addEffect(mobEffectInstance = new net.minecraft.world.effect.MobEffectInstance(effect, n2, amplifier, false, showParticles), source.getEntity())) continue;
-            ++n;
+    public static int giveEffect(net.minecraft.commands.CommandSourceStack $$0, java.util.Collection<? extends net.minecraft.world.entity.Entity> $$1, net.minecraft.core.Holder<net.minecraft.world.effect.MobEffect> $$2, @javax.annotation.Nullable java.lang.Integer $$3, int $$4, boolean $$5) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        int $$11;
+        net.minecraft.world.effect.MobEffect $$6 = (net.minecraft.world.effect.MobEffect)$$2.value();
+        int $$7 = 0;
+        if ($$3 != null) {
+            if ($$6.isInstantenous()) {
+                int $$8 = $$3;
+            } else {
+                int $$9 = $$3 * 20;
+            }
+        } else if ($$6.isInstantenous()) {
+            boolean $$10 = true;
+        } else {
+            $$11 = 600;
         }
-        if (n == 0) {
+        for (net.minecraft.world.entity.Entity $$12 : $$1) {
+            net.minecraft.world.effect.MobEffectInstance $$13;
+            if (!($$12 instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)$$12).addEffect($$13 = new net.minecraft.world.effect.MobEffectInstance($$6, $$11, $$4, false, $$5), $$0.getEntity())) continue;
+            ++$$7;
+        }
+        if ($$7 == 0) {
             throw ERROR_GIVE_FAILED.create();
         }
-        if (targets.size() == 1) {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.give.success.single", (java.lang.Object[])new java.lang.Object[]{effect.getDisplayName(), ((net.minecraft.world.entity.Entity)targets.iterator().next()).getDisplayName(), n2 / 20}), true);
+        if ($$1.size() == 1) {
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.give.success.single", (java.lang.Object[])new java.lang.Object[]{$$6.getDisplayName(), ((net.minecraft.world.entity.Entity)$$1.iterator().next()).getDisplayName(), $$11 / 20}), true);
         } else {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.give.success.multiple", (java.lang.Object[])new java.lang.Object[]{effect.getDisplayName(), targets.size(), n2 / 20}), true);
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.give.success.multiple", (java.lang.Object[])new java.lang.Object[]{$$6.getDisplayName(), $$1.size(), $$11 / 20}), true);
         }
-        return n;
+        return $$7;
     }
 
-    public static int clearEffects(net.minecraft.commands.CommandSourceStack source, java.util.Collection<? extends net.minecraft.world.entity.Entity> targets) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        int n = 0;
-        for (net.minecraft.world.entity.Entity entity : targets) {
-            if (!(entity instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)entity).removeAllEffects()) continue;
-            ++n;
+    public static int clearEffects(net.minecraft.commands.CommandSourceStack $$0, java.util.Collection<? extends net.minecraft.world.entity.Entity> $$1) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        int $$2 = 0;
+        for (net.minecraft.world.entity.Entity $$3 : $$1) {
+            if (!($$3 instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)$$3).removeAllEffects()) continue;
+            ++$$2;
         }
-        if (n == 0) {
+        if ($$2 == 0) {
             throw ERROR_CLEAR_EVERYTHING_FAILED.create();
         }
-        if (targets.size() == 1) {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.everything.success.single", (java.lang.Object[])new java.lang.Object[]{((net.minecraft.world.entity.Entity)targets.iterator().next()).getDisplayName()}), true);
+        if ($$1.size() == 1) {
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.everything.success.single", (java.lang.Object[])new java.lang.Object[]{((net.minecraft.world.entity.Entity)$$1.iterator().next()).getDisplayName()}), true);
         } else {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.everything.success.multiple", (java.lang.Object[])new java.lang.Object[]{targets.size()}), true);
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.everything.success.multiple", (java.lang.Object[])new java.lang.Object[]{$$1.size()}), true);
         }
-        return n;
+        return $$2;
     }
 
-    public static int clearEffect(net.minecraft.commands.CommandSourceStack source, java.util.Collection<? extends net.minecraft.world.entity.Entity> targets, net.minecraft.world.effect.MobEffect effect) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
-        int n = 0;
-        for (net.minecraft.world.entity.Entity entity : targets) {
-            if (!(entity instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)entity).removeEffect(effect)) continue;
-            ++n;
+    public static int clearEffect(net.minecraft.commands.CommandSourceStack $$0, java.util.Collection<? extends net.minecraft.world.entity.Entity> $$1, net.minecraft.core.Holder<net.minecraft.world.effect.MobEffect> $$2) throws com.mojang.brigadier.exceptions.CommandSyntaxException {
+        net.minecraft.world.effect.MobEffect $$3 = (net.minecraft.world.effect.MobEffect)$$2.value();
+        int $$4 = 0;
+        for (net.minecraft.world.entity.Entity $$5 : $$1) {
+            if (!($$5 instanceof net.minecraft.world.entity.LivingEntity) || !((net.minecraft.world.entity.LivingEntity)$$5).removeEffect($$3)) continue;
+            ++$$4;
         }
-        if (n == 0) {
+        if ($$4 == 0) {
             throw ERROR_CLEAR_SPECIFIC_FAILED.create();
         }
-        if (targets.size() == 1) {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.specific.success.single", (java.lang.Object[])new java.lang.Object[]{effect.getDisplayName(), ((net.minecraft.world.entity.Entity)targets.iterator().next()).getDisplayName()}), true);
+        if ($$1.size() == 1) {
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.specific.success.single", (java.lang.Object[])new java.lang.Object[]{$$3.getDisplayName(), ((net.minecraft.world.entity.Entity)$$1.iterator().next()).getDisplayName()}), true);
         } else {
-            source.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.specific.success.multiple", (java.lang.Object[])new java.lang.Object[]{effect.getDisplayName(), targets.size()}), true);
+            $$0.sendSuccess((net.minecraft.network.chat.Component)net.minecraft.network.chat.Component.translatable((java.lang.String)"commands.effect.clear.specific.success.multiple", (java.lang.Object[])new java.lang.Object[]{$$3.getDisplayName(), $$1.size()}), true);
         }
-        return n;
+        return $$4;
     }
 
     static {